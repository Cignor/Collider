# Communication to External Expert - Help Manager System

## DO NOT EDIT THIS FILE!!!

This file communicates the current situation and questions to an external expert who doesn't have access to the full project context.

---

## Project Overview

We're building a **Help Manager System** for Collider, a modular synthesizer built with C++17, JUCE framework, and ImGui/ImNodes for the UI. The goal is to create a centralized, tabbed help interface that consolidates documentation, shortcuts, and user assistance.

## Current State

### What We Have

1. **Fully functional ShortcutManager** - A data-driven shortcut system with:
   - Action registry with metadata (name, description, category)
   - Context-aware bindings (Global, Node Editor, etc.)
   - User rebinding and persistence (JSON)
   - Currently accessed via `Settings > Keyboard Shortcuts...` (modal popup)

2. **ThemeEditorComponent** - A reference implementation showing:
   - Tabbed UI using `ImGui::BeginTabBar()`
   - Window state management
   - Working copy pattern (apply/reset)
   - Good pattern to follow for our HelpManagerComponent

3. **Large markdown documentation** - `Nodes_Dictionary.md` (~2500+ lines):
   - Structured with headers (##, ###, ####)
   - Code blocks, lists, tables
   - Documentation for 100+ node types
   - Needs to be rendered in a searchable, collapsible format

### What We Need

A **HelpManagerComponent** with these tabs:

1. **Shortcuts Tab** - Integrate existing ShortcutManager UI (remove modal wrapper)
2. **Node Dictionary Tab** - Render markdown with search, collapsible sections
3. **Getting Started Tab** - Tutorials and guides
4. **About Tab** - Version, credits, system info

## Key Questions

### 1. Markdown Rendering Strategy

**Question**: What's the best approach for parsing and rendering markdown in a C++/JUCE/ImGui environment?

**Options we're considering**:
- **Option A**: Simple custom parser (parse headers, code blocks, lists)
  - Pros: Lightweight, full control, no dependencies
  - Cons: May miss edge cases, more work to maintain
- **Option B**: Use existing C++ markdown library (cmark, markdown-it-cpp)
  - Pros: Handles edge cases, well-tested
  - Cons: External dependency, may be overkill

**Specific concerns**:
- How to render code blocks with syntax highlighting in ImGui?
- Best way to handle markdown tables in ImGui?
- How to make text selectable/copyable in ImGui?

### 2. Search Implementation

**Question**: How should we implement real-time search filtering for large markdown content?

**Considerations**:
- File is ~2500 lines, potentially 100+ sections
- Need to filter by node name, category, description
- Should we pre-index content or parse on-demand?
- How to highlight matching text in rendered content?
- Performance implications of real-time filtering?

### 3. Collapsible Sections

**Question**: Best pattern for rendering deeply nested markdown headers as collapsible sections?

**Requirements**:
- Support multiple header levels (##, ###, ####)
- Auto-expand sections that match search
- Smooth scrolling to sections
- Maintain scroll position when expanding/collapsing

**ImGui options**:
- `ImGui::CollapsingHeader()` - Simple but limited nesting
- `ImGui::TreeNode()` - Better for deep nesting
- Custom implementation?

### 4. Architecture Decisions

**Question**: What's the best architecture for HelpManagerComponent?

**Specific questions**:
- Singleton vs instance? (ThemeManager is singleton, ThemeEditorComponent is instance)
- When to parse markdown? (on open, lazy load, cache?)
- Memory management for parsed content?
- Should parsing be separate class (MarkdownParser) or integrated?

### 5. UI/UX Patterns

**Question**: What are best practices for these UI features?

- **Scroll-to-section**: How to scroll ImGui window to specific content?
- **Copy-to-clipboard**: JUCE clipboard API usage for code blocks?
- **Table of contents**: Best way to implement jump links?
- **Search highlighting**: How to highlight matching text in ImGui text rendering?

### 6. Integration Points

**Question**: How should we integrate with existing systems?

- **Menu integration**: Move shortcuts from Settings to Help menu - any concerns?
- **F1 shortcut**: Currently opens shortcuts window - should it open Help Manager to Shortcuts tab?
- **Context menu**: Right-click node → "View in Dictionary" → Open Help Manager to that node's section - how to implement scroll-to?

## Technical Context

### Framework Details
- **JUCE**: Cross-platform C++ framework (file I/O, clipboard, strings)
- **ImGui**: Immediate-mode GUI (widgets, rendering)
- **ImNodes**: Node editor built on ImGui
- **C++17**: Modern C++ features available

### Existing Patterns
- Components follow similar pattern to `ThemeEditorComponent`
- Use `ImGui::BeginTabBar()` for tabs
- Window state managed with `bool m_isOpen`
- Working copy pattern for editing (apply/reset)

### Performance Requirements
- Smooth scrolling with large content
- Real-time search should feel instant
- No noticeable lag when opening Help Manager
- Memory efficient (don't load everything at once if not needed)

## What We're Looking For

1. **Recommendations** on markdown rendering approach
2. **Best practices** for search implementation
3. **Code patterns** for collapsible sections
4. **Architecture guidance** for component design
5. **UI/UX suggestions** for user experience
6. **Performance tips** for handling large content
7. **Integration advice** for menu and context menu

## Success Criteria

The Help Manager should:
- Open smoothly from Help menu
- Display shortcuts in a tab (migrated from Settings)
- Render markdown documentation with search
- Provide useful Getting Started and About content
- Feel responsive and professional
- Follow existing code patterns and style

---

**Note**: We have a detailed design document at `guides/HELP_MANAGER_DESIGN.md` with more specifics, but we're looking for expert guidance on the technical implementation details, especially around markdown rendering and search performance.

